<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Image Detection</title>

<!-- TensorFlow & Teachable Machine -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.12.0/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>

<!-- Google Fonts - Modern -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
    padding: 40px 20px;
    overflow-x: hidden;
}

/* Main Container */
.comic-container {
    max-width: 600px;
    margin: 0 auto;
    position: relative;
}

/* Main Title */
.pow-title {
    font-size: 3.5rem;
    font-weight: 800;
    color: #ffffff;
    text-align: center;
    margin-bottom: 15px;
    letter-spacing: -1px;
    text-transform: uppercase;
}

/* Starburst Badge - AI Indicator */
.starburst {
    position: relative;
    display: inline-block;
    margin: 0 auto 30px;
    padding: 12px 28px;
    background: linear-gradient(135deg, #00d9ff 0%, #0099ff 100%);
    border-radius: 50px;
    font-weight: 700;
    font-size: 0.9rem;
    color: #0f1419;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    box-shadow: 
        0 8px 20px rgba(0, 217, 255, 0.3),
        inset 0 -2px 8px rgba(0, 0, 0, 0.2);
    text-align: center;
    width: 100%;
}

/* Main Content Box - Neuromorphic */
.comic-box {
    background: linear-gradient(145deg, #1a1f2e, #0f1419);
    border-radius: 24px;
    padding: 40px;
    position: relative;
    box-shadow: 
        0 20px 50px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Section Title */
.section-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: #ffffff;
    text-align: center;
    margin-bottom: 35px;
    letter-spacing: -0.5px;
    text-transform: uppercase;
}

/* Upload Zone - Bold Neuromorphic */
.upload-zone {
    position: relative;
    border-radius: 16px;
    padding: 50px 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    background: linear-gradient(145deg, #0f1419, #1a1f2e);
    box-shadow: 
        0 12px 30px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(0, 217, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.8);
    border: 2px solid rgba(0, 217, 255, 0.2);
}

.upload-zone:hover {
    border-color: rgba(0, 217, 255, 0.6);
    box-shadow: 
        0 16px 40px rgba(0, 217, 255, 0.2),
        inset 0 1px 0 rgba(0, 217, 255, 0.2),
        inset 0 -1px 0 rgba(0, 0, 0, 0.8);
    transform: translateY(-2px);
}

.upload-zone input[type="file"] {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
}

.upload-icon {
    font-size: 3.5rem;
    margin-bottom: 15px;
    display: block;
    filter: drop-shadow(0 4px 12px rgba(0, 217, 255, 0.3));
}

.upload-text {
    font-size: 1.4rem;
    font-weight: 700;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.upload-subtext {
    font-size: 0.85rem;
    color: #8899aa;
    margin-top: 8px;
    font-weight: 500;
}

/* Preview Image Container */
.preview-container {
    margin-top: 35px;
    position: relative;
    display: none;
    border-radius: 16px;
    overflow: hidden;
}

.preview-container.active {
    display: block;
    animation: slideUp 0.5s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

#preview {
    width: 100%;
    display: block;
    border-radius: 16px;
    box-shadow: 
        0 15px 40px rgba(0, 217, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Result Container - Bold */
.speech-bubble {
    position: relative;
    background: linear-gradient(145deg, #0099ff, #0077cc);
    border-radius: 16px;
    padding: 30px 25px;
    margin-top: 30px;
    display: none;
    animation: slideUp 0.5s ease;
    box-shadow: 
        0 15px 40px rgba(0, 153, 255, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

.speech-bubble.active {
    display: block;
}

#result {
    font-size: 1.8rem;
    font-weight: 800;
    text-align: center;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 1px;
}

#result .probability {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.85);
    margin-top: 12px;
    font-weight: 500;
    letter-spacing: 0.5px;
}

/* Loading State */
.loading {
    display: none;
    text-align: center;
    margin-top: 25px;
}

.loading.active {
    display: block;
}

.loading-text {
    font-size: 1.3rem;
    font-weight: 600;
    color: #00d9ff;
    animation: pulse 1.5s ease-in-out infinite;
    text-transform: uppercase;
    letter-spacing: 1px;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Footer */
.comic-footer {
    text-align: center;
    margin-top: 30px;
    font-size: 0.85rem;
    color: #6688aa;
    font-weight: 500;
}

.comic-footer span {
    color: #00d9ff;
}
</style>
</head>

<body>

<div class="comic-container">
    <!-- Title -->
    <h1 class="pow-title">AI DETECTION</h1>
    
    <div class="comic-box">
        <!-- AI Badge -->
        <div class="starburst">Powered by AI</div>
        
        <h2 class="section-title">Image Recognition</h2>
        
        <!-- Upload Zone -->
        <div class="upload-zone" id="dropZone">
            <input type="file" accept="image/*" id="fileInput" onchange="predictImage(event)">
            <span class="upload-icon">ðŸ“¸</span>
            <div class="upload-text">Upload Image</div>
            <div class="upload-subtext">JPG, PNG, GIF supported â€¢ Drag & Drop</div>
        </div>
        
        <!-- Preview Container -->
        <div class="preview-container" id="previewContainer">
            <img id="preview" alt="Preview">
        </div>
        
        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="loading-text">Analyzing...</div>
        </div>
        
        <!-- Result -->
        <div class="speech-bubble" id="resultBubble">
            <div id="result"></div>
        </div>
        
        <!-- Footer -->
        <div class="comic-footer">
            Powered by <span>Teachable Machine</span> AI
        </div>
    </div>
</div>

<script>
const MODEL_URL = "https://teachablemachine.withgoogle.com/models/H2WjoBxYp/";

let model;

// Load model
async function loadModel() {
    try {
        model = await tmImage.load(
            MODEL_URL + "model.json",
            MODEL_URL + "metadata.json"
        );
        console.log("âœ… Model loaded!");
    } catch (e) {
        alert("Failed to load model!");
        console.error(e);
    }
}
loadModel();

// Predict image
async function predictImage(event) {
    if (!model) {
        alert("Model not ready yet!");
        return;
    }

    const file = event.target.files[0];
    if (!file) return;

    const img = document.getElementById("preview");
    const previewContainer = document.getElementById("previewContainer");
    const loading = document.getElementById("loading");
    const resultBubble = document.getElementById("resultBubble");

    // Show preview
    img.src = URL.createObjectURL(file);
    previewContainer.classList.add("active");
    resultBubble.classList.remove("active");
    loading.classList.add("active");

    img.onload = async () => {
        const predictions = await model.predict(img);

        const best = predictions.reduce((a, b) =>
            a.probability > b.probability ? a : b
        );

        // Hide loading, show result
        loading.classList.remove("active");
        resultBubble.classList.add("active");

        document.getElementById("result").innerHTML =
            `${best.className.toUpperCase()}
             <div class="probability">Confidence: ${(best.probability * 100).toFixed(1)}%</div>`;
    };
}

// Drag & Drop support
const dropZone = document.getElementById("dropZone");

dropZone.addEventListener("dragover", (e) => {
    e.preventDefault();
    dropZone.style.borderColor = "rgba(0, 217, 255, 0.8)";
    dropZone.style.background = "rgba(0, 217, 255, 0.05)";
});

dropZone.addEventListener("dragleave", () => {
    dropZone.style.borderColor = "rgba(0, 217, 255, 0.2)";
    dropZone.style.background = "";
});

dropZone.addEventListener("drop", (e) => {
    e.preventDefault();
    dropZone.style.borderColor = "rgba(0, 217, 255, 0.2)";
    dropZone.style.background = "";
    
    const file = e.dataTransfer.files[0];
    if (file && file.type.startsWith("image/")) {
        const input = document.getElementById("fileInput");
        const dt = new DataTransfer();
        dt.items.add(file);
        input.files = dt.files;
        predictImage({ target: input });
    }
});
</script>

</body>
</html>
